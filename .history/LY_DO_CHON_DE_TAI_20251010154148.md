LÝ DO CHỌN ĐỀ TÀI

1. Lý do chọn đề tài

1.1 Tầm quan trọng của ngành công nghiệp game

- Game là một trong những ngành công nghiệp giải trí phát triển nhanh nhất trên thế giới, với doanh thu toàn cầu vượt quá 180 tỷ USD vào năm 2022 và dự kiến sẽ tiếp tục tăng trưởng mạnh mẽ trong những năm tới.

- Nhu cầu giải trí của con người ngày càng tăng cao, đặc biệt sau đại dịch COVID-19, khiến việc tìm kiếm các hình thức giải trí tại nhà trở nên cấp thiết. Game digital đã trở thành một phần không thể thiếu trong cuộc sống hiện đại.

- Thị trường game Việt Nam đang phát triển mạnh mẽ với hơn 15 triệu game thủ, tạo ra cơ hội kinh doanh lớn cho các nền tảng phân phối game.

1.2 Thách thức của thị trường game hiện tại

- Phân phối game truyền thống thường gặp khó khăn trong việc quản lý kho hàng, cập nhật giá cả và theo dõi xu hướng thị trường. Các cửa hàng game vật lý phải đối mặt với chi phí thuê mặt bằng cao và khả năng tiếp cận khách hàng hạn chế.

- Nhu cầu của người chơi đối với các game đa dạng, chất lượng cao và giá cả hợp lý đang ngày càng gia tăng. Người chơi mong muốn có trải nghiệm mua sắm thuận tiện, nhanh chóng và an toàn.

- Các phương thức mua game truyền thống như mua đĩa CD/DVD hoặc tải game từ các trang web không chính thức thường gặp vấn đề về bản quyền, bảo mật và chất lượng dịch vụ.

1.3 Cơ hội từ công nghệ hiện đại

- Sự phát triển của công nghệ web và các framework như React, Node.js cho phép xây dựng các ứng dụng web mạnh mẽ, có khả năng xử lý giao dịch an toàn và cung cấp trải nghiệm người dùng tốt.

- Hệ thống AI và Machine Learning có thể được áp dụng để tạo ra các thuật toán gợi ý game thông minh, giúp người dùng khám phá những game phù hợp với sở thích của mình.

- Công nghệ thanh toán điện tử đã trở nên phổ biến và an toàn, tạo điều kiện thuận lợi cho việc mua bán game trực tuyến.

1.4 Giải pháp đề xuất

Hiểu rõ những thách thức trên, em đã xây dựng ý tưởng thiết kế một Game Store trực tuyến với các tính năng:

- Hệ thống quản lý game hiện đại với giao diện thân thiện
- Thuật toán gợi ý game dựa trên sở thích và lịch sử mua hàng của người dùng
- Hệ thống thanh toán an toàn và tiện lợi
- Quản lý người dùng và phân quyền admin/customer
- Theo dõi lịch sử giao dịch và quản lý số dư

2. Mục tiêu nghiên cứu

2.1 Mục tiêu chính

- Phân tích và thiết kế hệ thống Game Store trực tuyến với kiến trúc hiện đại, có khả năng mở rộng và bảo trì dễ dàng

- Phát triển hệ thống gợi ý game thông minh sử dụng thuật toán Collaborative Filtering và Content-Based Filtering để đề xuất game phù hợp với từng người dùng

- Xây dựng hệ thống quản lý người dùng với phân quyền rõ ràng, cho phép admin quản lý toàn bộ hệ thống và customer có trải nghiệm mua sắm tối ưu

- Phát triển hệ thống thanh toán và quản lý số dư an toàn, minh bạch với lịch sử giao dịch chi tiết

2.2 Mục tiêu phụ

- Tối ưu hóa trải nghiệm người dùng với giao diện responsive, thân thiện và dễ sử dụng

- Đảm bảo tính bảo mật của hệ thống với xác thực JWT và mã hóa dữ liệu nhạy cảm

- Xây dựng hệ thống quản lý nội dung cho phép admin dễ dàng thêm, sửa, xóa game và quản lý thông tin

- Tích hợp hệ thống đánh giá và review để người dùng có thể chia sẻ trải nghiệm và giúp người khác đưa ra quyết định mua hàng

3. Ý nghĩa thực tiễn

3.1 Đối với người dùng

- Tiết kiệm thời gian trong việc tìm kiếm và mua game phù hợp
- Trải nghiệm mua sắm thuận tiện với thanh toán trực tuyến an toàn
- Khám phá game mới thông qua hệ thống gợi ý thông minh
- Quản lý thư viện game cá nhân một cách có tổ chức

3.2 Đối với doanh nghiệp

- Mở rộng thị trường và tiếp cận nhiều khách hàng hơn
- Giảm chi phí vận hành so với cửa hàng vật lý
- Quản lý hiệu quả thông qua hệ thống admin toàn diện
- Tăng doanh thu thông qua việc bán game digital

3.3 Đối với ngành công nghiệp game

- Góp phần phát triển thị trường game digital tại Việt Nam
- Tạo ra môi trường mua bán game chính thống và an toàn
- Hỗ trợ các nhà phát triển game trong việc phân phối sản phẩm

4. Các công nghệ sử dụng và lý do lựa chọn

4.1 Frontend - React.js với TypeScript

4.1.1 Lý do lựa chọn React.js

- Component-based Architecture: React cho phép xây dựng giao diện người dùng thông qua các component có thể tái sử dụng, giúp code dễ bảo trì và mở rộng
- Virtual DOM: Cải thiện hiệu suất rendering bằng cách so sánh và cập nhật chỉ những phần thay đổi trong DOM thực
- Ecosystem phong phú: Có nhiều thư viện và công cụ hỗ trợ như React Router, Material-UI, Axios
- Cộng đồng lớn: Dễ dàng tìm kiếm tài liệu, hỗ trợ và giải pháp cho các vấn đề

4.1.2 TypeScript Integration

- Type Safety: Giảm thiểu lỗi runtime bằng cách kiểm tra kiểu dữ liệu tại thời điểm compile
- IntelliSense: Hỗ trợ autocomplete và gợi ý code tốt hơn trong IDE
- Refactoring an toàn: Dễ dàng thay đổi code mà không lo lỗi
- Documentation: Code tự document thông qua type definitions

4.1.3 Ưu điểm

- Hiệu suất cao với Virtual DOM
- Dễ học và sử dụng với JSX syntax
- Cộng đồng lớn và ecosystem phong phú
- Type safety với TypeScript
- Reusable components giảm code duplication

4.1.4 Nhược điểm

- Learning curve cho người mới bắt đầu
- Bundle size có thể lớn nếu không optimize
- Rapid changes trong ecosystem có thể gây confusion

4.2 Backend - Node.js với Express.js

4.2.1 Lý do lựa chọn Node.js

- JavaScript Everywhere: Sử dụng cùng ngôn ngữ cho cả frontend và backend
- Non-blocking I/O: Xử lý nhiều request đồng thời hiệu quả
- NPM Ecosystem: Truy cập vào hàng triệu package có sẵn
- Real-time capabilities: Phù hợp cho các ứng dụng cần real-time updates

4.2.2 Express.js Framework

- Minimalist: Framework nhẹ, linh hoạt và dễ tùy chỉnh
- Middleware support: Dễ dàng thêm các chức năng như authentication, logging
- Routing: Quản lý API endpoints một cách có tổ chức
- Template engines: Hỗ trợ nhiều template engine

4.2.3 Ưu điểm

- Fast development với JavaScript
- Scalable cho các ứng dụng lớn
- Rich ecosystem với NPM
- Real-time support với WebSocket
- Cross-platform chạy trên nhiều OS

4.2.4 Nhược điểm

- Single-threaded có thể gây bottleneck
- Callback hell nếu không sử dụng async/await đúng cách
- Memory usage có thể cao với nhiều concurrent connections

4.3 Database - MySQL

4.3.1 Lý do lựa chọn MySQL

- ACID Compliance: Đảm bảo tính toàn vẹn dữ liệu với các transaction
- Mature và stable: Đã được sử dụng rộng rãi trong production
- Performance: Tối ưu cho các ứng dụng read-heavy
- Cost-effective: Miễn phí và có community support tốt

4.3.2 Ưu điểm

- Reliability cao với ACID properties
- Performance tốt cho queries phức tạp
- Security với user management và encryption
- Scalability với replication và clustering
- Cost-effective và open source

4.3.3 Nhược điểm

- Complex queries có thể chậm với dữ liệu lớn
- Vertical scaling limitations
- Schema changes có thể phức tạp

4.4 Authentication - JWT (JSON Web Tokens)

4.4.1 Lý do lựa chọn JWT

- Stateless: Không cần lưu trữ session trên server
- Scalable: Dễ dàng scale horizontal
- Cross-domain: Hoạt động tốt với CORS
- Self-contained: Chứa tất cả thông tin cần thiết

4.4.2 Ưu điểm

- Stateless và scalable
- Cross-platform support
- Self-contained với user info
- Secure với digital signature

4.4.3 Nhược điểm

- Token size lớn hơn session ID
- Revocation khó khăn trước khi expire
- Security risk nếu private key bị compromise

4.5 UI Framework - Material-UI (MUI)

4.5.1 Lý do lựa chọn Material-UI

- Google Material Design: Tuân theo design system của Google
- Component library: Cung cấp sẵn nhiều component đẹp
- Theming: Hỗ trợ customization theme dễ dàng
- Accessibility: Built-in accessibility features

4.5.2 Ưu điểm

- Professional look với Material Design
- Rich components sẵn có
- Responsive design out-of-the-box
- Accessibility features
- Customizable themes

4.5.3 Nhược điểm

- Bundle size có thể lớn
- Learning curve cho customization
- Design constraints theo Material Design

4.6 State Management - React Context API

4.6.1 Lý do lựa chọn Context API

- Built-in: Không cần thêm dependencies
- Simple: Dễ hiểu và implement
- Lightweight: Không ảnh hưởng đến bundle size
- Suitable: Phù hợp với ứng dụng vừa và nhỏ

4.6.2 Ưu điểm

- No extra dependencies
- Simple implementation
- Lightweight
- Built-in React

4.6.3 Nhược điểm

- Performance issues với frequent updates
- Boilerplate code nhiều
- Limited features so với Redux

4.7 HTTP Client - Axios

4.7.1 Lý do lựa chọn Axios

- Promise-based: Sử dụng async/await dễ dàng
- Request/Response interceptors: Xử lý authentication, logging
- Error handling: Built-in error handling
- Browser compatibility: Hoạt động tốt trên mọi browser

4.7.2 Ưu điểm

- Promise-based API
- Interceptors support
- Error handling built-in
- Request/Response transformation

4.7.3 Nhược điểm

- Bundle size lớn hơn fetch
- Extra dependency

4.8 Build Tool - Vite

4.8.1 Lý do lựa chọn Vite

- Fast development: Hot Module Replacement (HMR) cực nhanh
- Modern: Sử dụng ES modules native
- Optimized builds: Production builds được tối ưu
- Framework agnostic: Hỗ trợ nhiều framework

4.8.2 Ưu điểm

- Extremely fast development server
- Modern tooling với ES modules
- Optimized production builds
- Easy configuration

4.8.3 Nhược điểm

- Newer technology ít tài liệu hơn
- Plugin ecosystem chưa phong phú như Webpack

5. Kiến trúc hệ thống

5.1 Mô hình MVC (Model-View-Controller)

- Model: Xử lý logic nghiệp vụ và tương tác với database
- View: Giao diện người dùng (React components)
- Controller: Xử lý request/response và điều phối giữa Model và View

5.2 RESTful API Design

- GET: Lấy dữ liệu (games, users, reviews)
- POST: Tạo mới (register, login, purchase)
- PUT: Cập nhật (user profile, game info)
- DELETE: Xóa (remove from wishlist)

5.3 Database Design

- Normalized structure: Tránh data redundancy
- Foreign key relationships: Đảm bảo data integrity
- Indexing: Tối ưu performance cho queries

6. Kết luận

Việc phát triển một Game Store trực tuyến không chỉ đáp ứng nhu cầu thực tế của thị trường mà còn góp phần thúc đẩy sự phát triển của ngành công nghiệp game tại Việt Nam. Dự án này sẽ tạo ra một nền tảng hiện đại, an toàn và tiện lợi cho việc mua bán game, đồng thời mang lại trải nghiệm tốt nhất cho người dùng và cơ hội kinh doanh cho các doanh nghiệp trong lĩnh vực game.

6.1 Tổng kết công nghệ

Việc lựa chọn các công nghệ trên dựa trên các tiêu chí:

- Performance: Đảm bảo ứng dụng chạy mượt mà
- Scalability: Có thể mở rộng khi cần thiết
- Maintainability: Dễ bảo trì và phát triển
- Security: Đảm bảo an toàn dữ liệu
- User Experience: Mang lại trải nghiệm tốt nhất

6.2 Hướng phát triển tương lai

- Microservices: Chia nhỏ hệ thống thành các service độc lập
- Cloud deployment: Triển khai trên AWS, Azure hoặc Google Cloud
- AI/ML integration: Nâng cao thuật toán gợi ý
- Mobile app: Phát triển ứng dụng mobile native
- Real-time features: Thêm chat, notifications real-time

7. Phân tích thiết kế

7.1 Mô tả hệ thống

Game Store trực tuyến được xây dựng để cung cấp nền tảng mua bán game digital hiện đại, giúp người chơi dễ dàng tìm kiếm, khám phá và mua game yêu thích. Hệ thống bao gồm các thành phần chính: khách hàng (customer), quản trị viên (admin), tài khoản, sản phẩm game, và hệ thống gợi ý thông minh. Các chức năng chính bao gồm đăng ký tài khoản, tìm kiếm game, mua game, đánh giá, và quản lý toàn diện, đáp ứng cả nhu cầu giải trí lẫn quản trị kinh doanh.

7.2 Các thành phần chính của hệ thống

7.2.1 Khách hàng (Customer)

Khách hàng là người dùng cuối của hệ thống, thực hiện các hoạt động như:

- Tìm kiếm và xem thông tin chi tiết game:
  + Duyệt danh sách game theo thể loại, nền tảng, nhà phát hành
  + Xem thông tin chi tiết: mô tả, giá, hình ảnh, video trailer
  + Đọc đánh giá và xếp hạng từ người dùng khác
  + Xem thông tin yêu cầu hệ thống (CPU, GPU, RAM, storage)

- Đăng ký và quản lý tài khoản:
  + Đăng ký tài khoản mới với email và mật khẩu
  + Đăng nhập/đăng xuất hệ thống
  + Cập nhật thông tin cá nhân (tên, tuổi, giới tính)
  + Quản lý số dư tài khoản

- Quản lý thư viện game cá nhân:
  + Thêm game vào wishlist để theo dõi
  + Xem lịch sử game đã xem
  + Quản lý danh sách game đã mua
  + Tải và cài đặt game đã mua

- Giao dịch và thanh toán:
  + Nạp tiền vào tài khoản qua chuyển khoản ngân hàng
  + Mua game bằng số dư tài khoản
  + Xem lịch sử giao dịch và biến động số dư
  + Theo dõi trạng thái yêu cầu nạp tiền

- Tương tác và đóng góp:
  + Đánh giá game đã mua (rating 1-5 sao)
  + Viết review chi tiết về trải nghiệm chơi game
  + Nhận gợi ý game phù hợp dựa trên sở thích cá nhân

7.2.2 Quản trị viên (Admin)

Quản trị viên là người quản lý và giám sát toàn bộ hệ thống, có quyền truy cập và thực hiện tất cả các chức năng quản lý như:

- Quản lý game:
  + Thêm game mới vào hệ thống với đầy đủ thông tin
  + Chỉnh sửa thông tin game (giá, mô tả, hình ảnh)
  + Xóa game không còn kinh doanh
  + Quản lý thể loại game, nền tảng, nhà phát hành
  + Xem thống kê game bán chạy, đánh giá cao

- Quản lý người dùng:
  + Xem danh sách tất cả người dùng
  + Theo dõi thông tin chi tiết từng người dùng
  + Quản lý số dư tài khoản người dùng
  + Xem thống kê: tổng số user, customer, admin
  + Phân quyền và quản lý vai trò

- Quản lý giao dịch:
  + Xem tất cả giao dịch mua game
  + Theo dõi doanh thu theo thời gian
  + Xem thống kê tổng doanh thu, số lượng giao dịch
  + Xuất báo cáo tài chính

- Quản lý nạp tiền:
  + Xem danh sách yêu cầu nạp tiền đang chờ duyệt
  + Duyệt hoặc từ chối yêu cầu nạp tiền
  + Xác minh thông tin chuyển khoản
  + Cập nhật số dư cho người dùng sau khi duyệt

- Quản lý đánh giá:
  + Xem tất cả đánh giá và review từ người dùng
  + Kiểm duyệt và xóa review không phù hợp
  + Theo dõi rating trung bình của từng game


- Thống kê và báo cáo:
  + Dashboard tổng quan với các chỉ số quan trọng
  + Biểu đồ doanh thu, số lượng user, giao dịch
  + Phân tích xu hướng mua game
  + Đánh giá hiệu quả kinh doanh

7.2.3 Tài khoản

Tài khoản là phần lưu trữ thông tin của người dùng trên hệ thống, bao gồm:

- Thông tin cơ bản:
  + User ID (định danh duy nhất)
  + Username (tên đăng nhập)
  + Email (để xác thực và liên hệ)
  + Mật khẩu (được mã hóa bằng bcrypt)
  + Vai trò (Customer/Admin)

- Thông tin mở rộng:
  + Tuổi (để phân tích và gợi ý phù hợp)
  + Giới tính (để cá nhân hóa trải nghiệm)
  + Số dư tài khoản (để mua game)
  + Ngày tạo tài khoản

- Quyền truy cập:
  + Customer: Truy cập các trang mua sắm, quản lý thông tin cá nhân
  + Admin: Truy cập đầy đủ tất cả trang quản trị
  + Phân quyền dựa trên JWT token

7.2.4 Sản phẩm Game

Sản phẩm game là các mặt hàng digital được admin đăng lên hệ thống để khách hàng có thể tìm kiếm, chọn lựa và mua. Mỗi game có các thuộc tính:

- Thông tin cơ bản:
  + Game ID (mã định danh duy nhất)
  + Tên game
  + Mô tả chi tiết về gameplay, cốt truyện
  + Giá bán (VNĐ)
  + Hình ảnh đại diện và gallery
  + Video trailer

- Phân loại:
  + Thể loại (Genre): Action, RPG, Strategy, Sports, Simulation, etc.
  + Nền tảng (Platform): Windows, macOS, Linux, PlayStation, Xbox
  + Chế độ chơi (Mode): Single-player, Multiplayer, Co-op
  + Nhà phát hành (Publisher)
  + Ngày phát hành

- Yêu cầu hệ thống:
  + CPU tối thiểu và đề xuất
  + GPU tối thiểu và đề xuất
  + RAM yêu cầu
  + Dung lượng ổ cứng
  + Hệ điều hành hỗ trợ

- Thống kê và đánh giá:
  + Rating trung bình (1-5 sao)
  + Số lượng đánh giá
  + Số lượt xem
  + Số lượng đã bán
  + Số người thêm vào wishlist

- Tính năng nâng cao:
  + Người dùng có thể sắp xếp game theo: giá, rating, ngày phát hành
  + Lọc game theo thể loại, nền tảng, khoảng giá
  + Tìm kiếm game theo tên
  + Xem game tương tự dựa trên thuật toán gợi ý

7.2.5 Hệ thống gợi ý thông minh

Hệ thống AI/ML được tích hợp để cung cấp trải nghiệm cá nhân hóa:

- Collaborative Filtering:
  + Phân tích hành vi người dùng tương tự
  + Gợi ý game dựa trên người dùng có sở thích giống nhau
  + Tính toán độ tương đồng giữa users

- Content-Based Filtering:
  + Phân tích đặc điểm của game (genre, platform, publisher)
  + Gợi ý game tương tự với game người dùng đã thích
  + Xét tương đồng về nội dung và thuộc tính

- Temporal Impact:
  + Tính trọng số thời gian cho các tương tác
  + Ưu tiên hành vi gần đây hơn
  + Điều chỉnh gợi ý theo xu hướng hiện tại

- Dynamic Weighting:
  + Tự động điều chỉnh trọng số các yếu tố
  + Cân bằng giữa collaborative và content-based
  + Tối ưu hóa độ chính xác gợi ý

7.3 Các yêu cầu phi chức năng

7.3.1 Hiệu năng

- Thời gian tải trang không quá 3 giây
- Xử lý giao dịch mua game trong vòng 1 giây
- Hệ thống gợi ý trả về kết quả trong vòng 2 giây
- Hỗ trợ tối thiểu 1000 người dùng đồng thời

7.3.2 Bảo mật

- Mã hóa mật khẩu bằng bcrypt với salt rounds
- Xác thực người dùng bằng JWT token
- HTTPS cho tất cả giao dịch
- Bảo vệ chống SQL injection và XSS attacks
- Session timeout sau 24 giờ không hoạt động

7.3.3 Khả năng sử dụng

- Giao diện thân thiện, trực quan với Material-UI
- Responsive design hoạt động tốt trên mọi thiết bị
- Thông báo rõ ràng cho mọi thao tác
- Hướng dẫn sử dụng dễ hiểu
- Hỗ trợ người dùng mới làm quen nhanh

7.3.4 Độ tin cậy

- Hệ thống hoạt động ổn định 99.9% thời gian
- Backup dữ liệu định kỳ
- Xử lý lỗi gracefully với thông báo thân thiện
- Rollback transaction khi gặp lỗi

7.3.5 Khả năng mở rộng

- Kiến trúc modular dễ dàng thêm tính năng mới
- Database được thiết kế normalized có thể scale
- API RESTful chuẩn hóa
- Dễ dàng tích hợp với hệ thống thanh toán khác
- Có thể mở rộng lên microservices trong tương lai

7.3.6 Khả năng bảo trì

- Code được tổ chức rõ ràng theo kiến trúc MVC
- Comment và documentation đầy đủ
- TypeScript giúp detect lỗi sớm
- Test coverage đầy đủ các chức năng quan trọng
- Git version control để quản lý source code

7.3.7 Yêu cầu triển khai

- Không đòi hỏi phần cứng mạnh mẽ
- Có thể chạy trên VPS giá rẻ
- Dễ dàng deploy lên cloud (AWS, Azure, Vercel)
- Hỗ trợ Docker containerization
- CI/CD pipeline tự động hóa deployment

8. Thiết kế thông minh

8.1 Hệ thống gợi ý game thông minh

8.1.1 Mô tả hệ thống

Hệ thống gợi ý game là một ứng dụng của trí tuệ nhân tạo (AI), kết hợp cả hai phương pháp Collaborative Filtering và Content-Based Filtering để đưa ra các gợi ý game phù hợp với sở thích cá nhân của người dùng. Hệ thống phân tích đồng thời thông tin đặc điểm của game, hành vi người dùng, và mối quan hệ giữa các người dùng có sở thích tương tự để đưa ra các gợi ý chính xác và đa dạng.

Các đặc điểm nổi bật:
- Kết hợp Collaborative Filtering và Content-Based Filtering
- Tính toán temporal impact để ưu tiên hành vi gần đây
- Dynamic weighting để tự động cân bằng các yếu tố
- Cập nhật liên tục dựa trên hành vi người dùng mới

8.1.2 Thu thập và xây dựng cơ sở dữ liệu

Để xây dựng hệ thống gợi ý hiệu quả, cần thu thập và tổ chức dữ liệu theo các loại sau:

Thông tin sản phẩm game:
- Các thuộc tính đặc trưng:
  + Thể loại (genre): Action, RPG, Strategy, Sports, Simulation, Adventure, Horror, Puzzle
  + Nền tảng (platform): Windows, macOS, Linux, PlayStation, Xbox, Nintendo Switch
  + Nhà phát hành (publisher)
  + Chế độ chọi (mode): Single-player, Multiplayer, Co-op, Online, Offline
  + Năm phát hành
  + Giá cả
  + Rating trung bình
  + Tags mô tả (Open World, First-Person, Third-Person, Story Rich, etc.)
  + Keywords: Từ khóa mô tả game (extracted từ description, tags, reviews)
- Được lưu trữ trong database MySQL để làm đầu vào cho hệ thống tính toán tương đồng
- Mỗi game được biểu diễn bằng feature vector chứa tất cả các thuộc tính
- Keywords được xử lý bằng TF-IDF để tìm game tương tự về nội dung

Hành vi người dùng:
- Purchase (Mua game):
  + Trọng số cơ bản: 5.0 (nếu mua nhưng không đánh giá)
  + Trọng số điều chỉnh theo rating:
    * Mua và không đánh giá: weight = 3.0 (giả định hài lòng ở mức trung bình)
    * Mua và đánh giá 5 sao: weight = 5.0 (rất thích)
    * Mua và đánh giá 4 sao: weight = 4.0 (thích)
    * Mua và đánh giá 3 sao: weight = 3.0 (trung bình)
    * Mua và đánh giá 2 sao: weight = 2.0 (không thích)
    * Mua và đánh giá 1 sao: weight = 1.0 (rất không thích)
  + Phản ánh sở thích thực tế của người dùng dựa trên mức độ hài lòng
  + Lưu thông tin: user_id, game_id, purchase_date, price
  
- Review (Đánh giá):
  + Trọng số phụ thuộc vào rating (1-5 sao)
  + Rating càng cao → trọng số càng lớn → game tương tự được gợi ý nhiều hơn
  + Rating thấp → trọng số thấp → tránh gợi ý game tương tự
  + Bao gồm rating (1-5 sao) và comment text
  + Comment được phân tích để trích xuất keywords và sentiment
  + Lưu thông tin: user_id, game_id, rating, comment, review_date
  
- Wishlist (Yêu thích):
  + Trọng số cố định: weight = 3.0
  + Thể hiện ý định mua trong tương lai
  + Không phụ thuộc vào rating vì chưa mua/chơi
  + Lưu thông tin: user_id, game_id, added_date
  
- View (Xem chi tiết):
  + Trọng số thấp: weight = 1.0
  + Thể hiện sự quan tâm ban đầu
  + Không phụ thuộc vào rating
  + Lưu thông tin: user_id, game_id, view_date, duration

Hồ sơ người dùng:
- Tập hợp thông tin về sở thích:
  + Các game đã mua và đánh giá
  + Thể loại game ưa thích (dựa trên lịch sử tương tác)
  + Nền tảng sử dụng chủ yếu
  + Khoảng giá thường mua
  + Tần suất mua game
- Xây dựng user profile vector:
  + Tổng hợp từ tất cả các tương tác có trọng số
  + Cập nhật liên tục khi có hành vi mới
  + Áp dụng temporal decay để ưu tiên hành vi gần đây

8.1.3 Tính chất tương tác người dùng

Với đặc thù trang web bán game, hành vi người dùng cần được phân tích kỹ lưỡng:

Đặc điểm hành vi:
- Người dùng thường xem nhiều game trước khi quyết định mua
- Thêm vào wishlist để theo dõi giá và đợi sale
- Đánh giá game sau khi chơi một thời gian
- Có xu hướng mua game cùng thể loại hoặc cùng series

Temporal Impact (Ảnh hưởng thời gian):
- Hành vi gần đây quan trọng hơn hành vi cũ
- Áp dụng công thức decay theo thời gian:
  + weight_adjusted = base_weight × exp(-decay_rate × days_elapsed)
  + decay_rate mặc định: 0.01 (có thể tùy chỉnh)
- Ví dụ: Game được xem 30 ngày trước có trọng số giảm so với game được xem hôm qua

Cold Start Problem:
- Người dùng mới chưa có lịch sử tương tác
- Giải pháp:
  + Gợi ý game phổ biến (trending)
  + Game có rating cao
  + Yêu cầu người dùng chọn thể loại yêu thích khi đăng ký
  + Sử dụng demographic filtering (dựa trên tuổi, giới tính)

8.1.4 Đo lường hiệu quả

Để đảm bảo chất lượng gợi ý, hệ thống cần đánh giá thông qua các chỉ số:

Click-Through Rate (CTR):
- Công thức: CTR = (Số lượt click vào game gợi ý / Tổng số game gợi ý hiển thị) × 100%
- Mục tiêu: CTR >= 15%
- Đo lường mức độ hấp dẫn của gợi ý

Conversion Rate:
- Công thức: Conversion = (Số game gợi ý được mua / Số game gợi ý được click) × 100%
- Mục tiêu: Conversion >= 5%
- Đo lường hiệu quả thực tế của gợi ý

Precision@K:
- Tỷ lệ game được gợi ý chính xác trong top K sản phẩm
- K thường chọn = 5 hoặc 10
- Precision@10 >= 40%

Diversity Score:
- Đo lường sự đa dạng của các gợi ý
- Tránh gợi ý quá nhiều game cùng thể loại
- Công thức: 1 - (Average cosine similarity giữa các game được gợi ý)

Coverage:
- Tỷ lệ % game trong catalog được gợi ý ít nhất 1 lần
- Đảm bảo game ít phổ biến cũng được giới thiệu
- Mục tiêu: Coverage >= 60%

8.1.5 Mô hình sử dụng: Hybrid Filtering

Hệ thống sử dụng kết hợp Collaborative Filtering và Content-Based Filtering:

Collaborative Filtering (User-User):
- Tìm người dùng có hành vi tương tự
- Gợi ý game mà người dùng tương tự đã thích
- Công thức similarity:
  + Cosine Similarity giữa user vectors
  + sim(u1, u2) = (u1 · u2) / (||u1|| × ||u2||)

Content-Based Filtering:
- Phân tích đặc điểm game người dùng đã thích
- Tìm game có đặc điểm tương tự
- Sử dụng TF-IDF cho text features
- One-Hot Encoding cho categorical features

Dynamic Weighting:
- Tự động điều chỉnh tỷ trọng giữa collaborative và content-based
- Dựa trên số lượng dữ liệu người dùng:
  + User mới (< 5 interactions): 80% content-based, 20% collaborative
  + User thường (5-20 interactions): 50% content-based, 50% collaborative
  + User active (> 20 interactions): 30% content-based, 70% collaborative

8.2 Sơ đồ hoạt động của hệ thống gợi ý game

Quy trình hoạt động:

1. Input từ người dùng:
   - User ID
   - Lịch sử tương tác (purchases, reviews, wishlist, views)
   - Context hiện tại (trang đang xem, game đang xem)

2. Feature Extraction:
   - Trích xuất user profile vector từ lịch sử
   - Áp dụng temporal weighting
   - Chuẩn hóa features

3. Model Processing:
   - Chạy Collaborative Filtering:
     + Tìm K nearest neighbors (K = 50)
     + Lấy game mà neighbors đã thích
   - Chạy Content-Based Filtering:
     + Tính similarity với các game đã thích
     + Lấy top similar games
   - Ensemble:
     + Kết hợp kết quả từ cả 2 models
     + Áp dụng dynamic weights
     + Loại bỏ game đã mua

4. Ranking & Filtering:
   - Sắp xếp theo điểm số tổng hợp
   - Áp dụng business rules:
     + Boost game mới phát hành
     + Boost game đang sale
     + Giảm game quá đắt so với budget user
   - Đảm bảo diversity

5. Output:
   - Top 10 game được gợi ý
   - Kèm theo lý do gợi ý (vì đã mua game X, vì thích thể loại Y)
   - Hiển thị trên UI

6. Feedback Loop:
   - Ghi nhận hành động của user (click, mua, ignore)
   - Cập nhật user profile
   - Retrain model định kỳ (mỗi tuần)

8.3 Quá trình huấn luyện mô hình

8.3.1 Chuẩn bị dữ liệu và chuẩn hóa đầu vào

Thu thập dữ liệu:
- Export data từ MySQL database:
  + Bảng user: user_id, age, gender
  + Bảng game: game_id, name, genres, platforms, publisher, price
  + Bảng purchase: user_id, game_id, purchase_date
  + Bảng review: user_id, game_id, rating, comment
  + Bảng wishlist: user_id, game_id, added_date
  + Bảng view: user_id, game_id, view_date
- Định dạng: CSV hoặc JSON
- Gửi đến Python service qua API

Chuyển đổi dữ liệu:
- Game features:
  + Genres: One-Hot Encoding
    Ví dụ: ["Action", "RPG"] → [1, 0, 1, 0, 0, 0, 0, 0]
  + Platforms: Multi-hot encoding
    Ví dụ: ["Windows", "PlayStation"] → [1, 0, 0, 1, 0, 0]
  + Publisher: Label Encoding hoặc Embedding
  + Price: Min-Max Normalization → [0, 1]
  + Release year: Normalize
  
- User-Game interactions:
  + Tạo sparse matrix (users × games)
  + Giá trị = weighted score từ tất cả interactions
  + Score = Σ(interaction_weight × temporal_decay)
  + Ma trận kích thước: N_users × N_games

Chuẩn hóa:
- StandardScaler cho numerical features
- L2 normalization cho vectors
- Xử lý missing values:
  + Features: Fill với median hoặc mode
  + Interactions: Fill với 0

8.3.2 Xây dựng mô hình Collaborative Filtering

User-User Collaborative Filtering:
- Tính user similarity matrix:
  + Sử dụng Cosine Similarity
  + Matrix kích thước: N_users × N_users
  + Lưu trữ sparse matrix để tiết kiệm memory
  
- K-Nearest Neighbors:
  + K = 50 neighbors gần nhất
  + Weighted average của ratings từ neighbors
  + Công thức dự đoán:
    pred(u, i) = Σ(similarity(u, v) × rating(v, i)) / Σ|similarity(u, v)|

Item-Item Collaborative Filtering (bổ sung):
- Tính game similarity matrix
- Gợi ý game tương tự với game user đã thích
- Hiệu quả với sparse data

8.3.3 Xây dựng mô hình Content-Based Filtering

Feature Engineering:
- TF-IDF cho text features:
  + Mô tả game, tags
  + Vocabulary size: 5000 words
  + n-grams: unigram + bigram
  
- Embedding layer:
  + Publisher embedding: dimension = 32
  + Genre embedding: dimension = 16
  + Platform embedding: dimension = 8
  
- Concatenate tất cả features:
  + Game feature vector dimension: ~200

Content similarity:
- Cosine Similarity giữa game vectors
- Build content similarity matrix (N_games × N_games)
- Pre-compute và cache để tăng tốc inference

User Profile Construction:
- User profile = Weighted average của game features mà user đã thích
- Weight dựa trên interaction type và temporal decay
- Update profile khi có interaction mới

8.3.4 Huấn luyện và tối ưu hóa

Chia dữ liệu:
- Train set: 80% (older data)
- Validation set: 10%
- Test set: 10% (newest data)
- Time-based split để đánh giá khả năng dự đoán tương lai

Hàm mất mát:
- Mean Squared Error (MSE) cho rating prediction:
  + L = (1/N) × Σ(y_true - y_pred)²
- Ranking loss cho recommendation:
  + BPR (Bayesian Personalized Ranking)
  + Pairwise loss để học thứ tự ưu tiên
- Regularization:
  + L2 regularization: λ = 0.01
  + Dropout: rate = 0.2 (nếu dùng neural networks)

Tối ưu hóa:
- Optimizer: Adam
  + Learning rate: 0.001
  + β1 = 0.9, β2 = 0.999
- Batch size: 256
- Epochs: 50 (với early stopping)
- Learning rate scheduling:
  + Giảm 50% khi validation loss không giảm sau 5 epochs

Hyperparameter Tuning:
- Grid Search hoặc Random Search:
  + K neighbors: [20, 50, 100]
  + Embedding dimensions: [16, 32, 64]
  + Regularization λ: [0.001, 0.01, 0.1]
  + Temporal decay rate: [0.005, 0.01, 0.02]
- Cross-validation: 5-fold

8.3.5 Đánh giá mô hình

Offline Evaluation:
- Precision@K (K=5, 10, 20):
  + Precision@10 = (Relevant games in top 10) / 10
  + Mục tiêu: >= 40%
  
- Recall@K:
  + Recall@10 = (Relevant games in top 10) / (Total relevant games)
  + Mục tiêu: >= 30%
  
- NDCG (Normalized Discounted Cumulative Gain):
  + Đo lường quality và ranking của gợi ý
  + NDCG@10 >= 0.6
  + Công thức: NDCG = DCG / IDCG
  
- MAP (Mean Average Precision):
  + Average precision across all users
  + MAP >= 0.35

- Coverage:
  + Tỷ lệ game được gợi ý / Total games
  + Coverage >= 60%

- Diversity:
  + Intra-list diversity score
  + Diversity >= 0.4

Online Evaluation (A/B Testing):
- Chia users thành 2 groups:
  + Control: Random recommendations
  + Treatment: AI recommendations
- Metrics:
  + CTR improvement: +20%
  + Conversion rate improvement: +15%
  + Revenue per user: +25%
- Duration: 2 weeks
- Statistical significance: p-value < 0.05

Model Monitoring:
- Track metrics theo thời gian
- Alert khi metrics giảm > 10%
- Retrain model khi cần:
  + Định kỳ: Mỗi tuần
  + Hoặc khi performance drop

8.3.6 Deployment và Inference

API Integration:
- Python Flask/FastAPI service
- Endpoint: POST /api/recommendations
- Input: user_id, context, num_recommendations
- Output: List of game_ids với scores

Caching Strategy:
- Redis cache cho:
  + Pre-computed user profiles
  + Pre-computed similarities
  + Recent recommendations
- TTL: 1 hour cho recommendations
- Invalidate khi có interaction mới

Performance Optimization:
- Batch inference cho multiple users
- Approximate nearest neighbor search (Annoy, FAISS)
- Model quantization để giảm size
- Response time: < 200ms

Fallback Strategy:
- Nếu model service down:
  + Trả về trending games
  + Top rated games
  + Random popular games
- Graceful degradation

Continuous Learning:
- Incremental updates với new data
- Online learning cho user profiles
- A/B testing cho model updates
- Feature flag để enable/disable features
